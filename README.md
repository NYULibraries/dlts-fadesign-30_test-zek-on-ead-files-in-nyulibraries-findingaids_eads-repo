# [FADESIGN-30: Test zek on EAD files in nyulibraries/findingaids\_eads repo](https://jira.nyu.edu/jira/browse/FADESIGN-30)

How `zek-types.go` was made:

```bash
go get github.com/miku/zek/cmd/...
find ead-files/ -type f -name *.xml -exec cat {} \; | zek > zek-types.go
```

Some user and host identifying information was removed from the generation comment.

How `ead-files/` was made:
 
```bash
curl -LO https://github.com/NYULibraries/findingaids_eads/archive/f27a2abc38fbcb39e38e51c2d15eb9c0187832d3.zip
unzip f27a2abc38fbcb39e38e51c2d15eb9c0187832d3.zip
rm -fr findingaids_eads-f27a2abc38fbcb39e38e51c2d15eb9c0187832d3/{.circleci,README.md,test}
rm f27a2abc38fbcb39e38e51c2d15eb9c0187832d3.zip
ln -s findingaids_eads-f27a2abc38fbcb39e38e51c2d15eb9c0187832d3 ead-files
```

How `zek/zek.go` was made:

Edited the raw zek-types.go file:

* Added to the top of the file:

```go
package zek

// Based on https://github.com/NYULibraries/fadesign-30_test-zek-on-ead-files-in-nyulibraries-findingaids_eads-repo/blob/112c8ac853544961c09019375ce807b317985343/zek-types.go

import (
	"encoding/xml"
)

```

* Changed type `Ead` -> `EAD`
* Broke out top-level `C` struct field into a separate type to clear this error: 
```go
<autogenerated>:1: internal compiler error: name too long...
```
 
`main.go`: quick and dirty script for generating JSON files from EAD files using zek

NOTE: This repo used to have a directory findingaids_eads-f27a2abc38fbcb39e38e51c2d15eb9c0187832d3
which was a snapshot of the the commit used for XML source.  I hadn't realized at
the time that this directory was 577 MB.  The convenience of having a local snapshot
isn't worth the bloat, so I rebuilt this repo without it.  Links in Jira to commits
in the previous version of this repo will 404.
